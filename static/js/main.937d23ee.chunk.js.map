{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/classes/BouncingBall.js","js/classes/NaturalBouncingBall.js","audio/bouncing-balls-no-1.ogg","audio/bouncing-balls-no-1.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","BouncingBall","xPos","yPos","zPos","size","speed","direction","stroke","canShrink","this","p","canDraw","xSpeed","ySpeed","zSpeed","xDirection","yDirection","zDirection","topBounds","bottomBounds","leftBounds","rightBounds","backBounds","frontBounds","translate","ambientMaterial","sphere","includes","NaturalBouncingBall","fillHue","strokeHue","random","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","noteSet2","filter","note","noteSet3","noteSet4","scheduleCueSet","document","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","i","length","ticks","time","addCue","setup","createCanvas","WEBGL","colorMode","HSB","smooth","background","bigBall","color","balls","push","draw","locX","mouseX","locY","mouseY","ambientLight","pointLight","isPlaying","lights","boxCorners","cueSet1Direction","executeCueSet1","x","executeCueSet2","cueSet3Direction","executeCueSet3","cueSet4Direction","executeCueSet4","mousePressed","pause","parseInt","currentTime","buffer","duration","reset","play","creditsLogged","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.937d23ee.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default class BouncingBall {\n    constructor(p5, xPos, yPos, zPos, size, speed, direction, fill, stroke, canShrink = true ) {\n        this.p = p5;\n        this.canDraw = true;\n\n        this.xPos = xPos;\n        this.yPos = yPos;\n        this.zPos = zPos;\n\n        this.size = size;\n        this.direction = direction;\n        this.fill = fill;\n        this.stroke = stroke;\n        this.canShrink = canShrink;\n\n        this.xSpeed = speed;\n        this.ySpeed = speed;\n        this.zSpeed = speed;\n\n        this.xDirection = 1;\n        this.yDirection = 1;\n        this.zDirection = 1;\n\n        this.topBounds = -this.p.height / 2;\n        this.bottomBounds = this.p.height / 2;\n        this.leftBounds = -this.p.width / 2;\n        this.rightBounds = this.p.width / 2;\n        this.backBounds = -this.p.height / 2;\n        this.frontBounds = this.p.height / 2;\n    }\n\n    draw() {\n        if(this.canDraw) {\n            this.p.translate (this.xPos, this.yPos, -this.zPos);\n            this.p.ambientMaterial(this.fill);\n            this.p.stroke(this.stroke);\n            this.p.sphere(this.size);\n\n            // motion setup\n            if(['left-right', 'random'].includes(this.direction)) {\n                this.xPos = this.xPos + (this.xSpeed * this.xDirection);  \n            }\n            \n            if(['up-down', 'random'].includes(this.direction)) {\n                this.yPos = this.yPos + (this.ySpeed * this.yDirection); \n            }\n            \n            if(['back-forth', 'random'].includes(this.direction)) {\n                this.zPos = this.zPos + (this.zSpeed * this.zDirection);\n            }\n\n            if(['left-right', 'random'].includes(this.direction)) {\n                if (this.xPos > this.rightBounds - this.size) {\n                    this.xDirection =- 1;\n                }\n\n                if (this.xPos < this.leftBounds - this.size) {\n                    this.xDirection =+ 1;\n                }\n            }\n\n            if(['up-down', 'random'].includes(this.direction)) {\n                if (this.yPos > this.bottomBounds - this.size) {\n                    this.yDirection =- 1;\n                }\n\n                if (this.yPos < this.topBounds - this.size) {\n                    this.yDirection =+ 1;\n                }\n            }\n\n            if(['back-forth', 'random'].includes(this.direction)) {\n                if (this.zPos > this.frontBounds) {\n                    this.zDirection =- 1;\n                }\n\n                if (this.zPos < this.backBounds) {\n                   this.zDirection =+ 1;\n                }\n            }\n            \n            if(this.canShrink) {\n                this.size = this.size - 0.75;\n                if(this.size <= 0) {\n                    this.canDraw = false;\n                }\n            }\n\n            this.p.translate (-this.xPos, -this.yPos, +this.zPos);\n        }\n    }\n}","import BouncingBall from './BouncingBall.js';\n\nexport default class NaturalBouncingBall extends BouncingBall {\n\n    constructor(p5, xPos, yPos, zPos, size, speed, direction, fillHue, strokeHue, canShrink = true ) {\n        super(p5, xPos, yPos, zPos, size, speed, direction, fillHue, strokeHue, canShrink);\n    }\n\n    draw() {\n        super.draw();\n\n        if(this.canDraw) {\n            if(['left', 'right'].includes(this.direction)) {\n                if(['left'].includes(this.direction)) {\n                    this.xPos = this.xPos - (this.xSpeed * this.xDirection);  \n                }\n                else {\n                    this.xPos = this.xPos + (this.xSpeed * this.xDirection);  \n                }\n\n                \n            }\n            if(['forward', 'forward-left', 'forward-right'].includes(this.direction)) {\n                if(['forward-left'].includes(this.direction)) {\n                    this.xPos = this.xPos - (this.xSpeed * this.xDirection);  \n                }\n                else if(['forward-right'].includes(this.direction)) {\n                    this.xPos = this.xPos + (this.xSpeed * this.xDirection);  \n                }\n\n                this.zPos = this.zPos + (this.zSpeed * this.zDirection);\n            }\n\n            this.yPos = this.yPos + (this.ySpeed * this.yDirection);\n\n            if (this.yPos > this.bottomBounds + (this.size * 2)) {\n                this.yDirection =- 1;\n            }\n\n            if (this.yPos < this.topBounds - this.size) {\n                this.yDirection =+ 1;\n            }\n\n            this.topBounds = this.topBounds * this.p.random(0.95, 0.99);\n        }\n\n       \n\n    }\n}","export default __webpack_public_path__ + \"static/media/bouncing-balls-no-1.ea1ef4af.ogg\";","export default __webpack_public_path__ + \"static/media/bouncing-balls-no-1.8b0fb17d.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon';\nimport BouncingBall from './classes/BouncingBall';\nimport NaturalBouncingBall from './classes/NaturalBouncingBall';\n\nimport audio from \"../audio/bouncing-balls-no-1.ogg\";\nimport midi from \"../audio/bouncing-balls-no-1.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    console.log(result);\n                    const noteSet1 = result.tracks[1].notes; // Synth 2 - DreamPatch 1\n                    const noteSet2 = result.tracks[5].notes.filter(note => note.midi !== 43); // Redrum 1 - Abstract Kit 01\n                    const noteSet3 = result.tracks[0].notes; // Synth 1 - HyperBottom\n                    const noteSet4 = result.tracks[3].notes; // Sampler 2 - Twinkle Stars\n                    //const noteSet4 = result.tracks[2].notes; // Synth 3 - Laid Down\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\n                    p.scheduleCueSet(noteSet3, 'executeCueSet3');\n                    p.scheduleCueSet(noteSet4, 'executeCueSet4');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight, p.WEBGL);\n            p.colorMode(p.HSB);\n            p.smooth();\n            p.background(0);\n            const bigBall = new BouncingBall(\n                p, \n                0,\n                0,\n                0,\n                p.random(p.height / 8, p.height / 16), \n                16,\n                'random',\n                p.color(p.random(0, 360), 100, 100),\n                p.color(p.random(0, 360), 100, 100),\n                false\n            );\n            bigBall.canDraw = false;\n            p.balls.push(bigBall);\n        }\n\n        p.balls = [];\n\n        p.draw = () => {\n            let locX = p.mouseX - p.height / 2;\n            let locY = p.mouseY - p.width / 2;\n            p.ambientLight(60, 60, 60);\n            p.pointLight(255, 255, 255, locX, locY, 100);\n            if(p.audioLoaded && p.song.isPlaying()){\n                p.background(0);\n                p.lights();\n\n                const dist = p.height / 2;\n                p.stroke(255);\n                // background square\n                // p.translate (-p.width/2, -p.height/2, 0);\n                // p.line(0, 0, -dist, p.width, 0, -dist);\n                // p.line(0, 0, -dist, 0, p.height, -dist);\n                // p.line(0, p.height, -dist, p.width, p.height, -dist);\n                // p.line(p.width, p.height, -dist, p.width, 0, -dist);\n                // // perspective lines\n                // p.line(0, 0, -dist, 0, 0, 0);\n                // p.line(p.width, 0, -dist, p.width, 0, 0);\n                // p.line(0, p.height, -dist, 0, p.height, 0);\n                // p.line(p.width, p.height, -dist, p.width, p.height, 0);\n                // p.translate (p.width/2, p.height/2, 0);\n                \n                for (let i = 0; i < p.balls.length; i++) {\n                    const ball = p.balls[i];\n                    ball.draw();\n                }\n            }\n        }\n\n        p.boxCorners = [];\n\n        p.cueSet1Direction = 'forward-left';\n\n        p.executeCueSet1 = (note) => {\n            const { currentCue } = note;\n\n            if(currentCue % 16 === 1 && currentCue > 1){\n                p.cueSet1Direction = p.cueSet1Direction === 'forward-right' ? 'forward-left' : 'forward-right';\n            }\n\n            const x = p.cueSet1Direction === 'forward-right' ? -p.width / 2 : p.width / 2;\n\n            if(currentCue % 16 > 5) {\n                p.balls.push(\n                    new NaturalBouncingBall(\n                        p, \n                        x, \n                        -p.height/2,\n                        0, \n                        p.height / 16, \n                        36,\n                        p.cueSet1Direction,\n                        p.color(p.random(0, 360), 100, 0),\n                        p.color(p.random(0, 360), 100, 100),\n                        false\n                    )\n                );\n            }\n        }\n\n        p.executeCueSet2 = (note) => {\n            const { midi } = note,\n                fill = midi === 36 ? p.color(0, 100, 0) : p.color(0, 0, 100),\n                stroke = midi === 36 ? p.color(0, 0, 100) : p.color(0, 100, 0);\n  \n             p.balls.push(\n                new BouncingBall(\n                    p, \n                    p.random(-p.width/8, p.width/8), \n                    -p.height / 2, \n                    p.random(-p.height/8, p.height/8), \n                    p.height / 16, \n                    24,\n                    'up-down',\n                    fill,\n                    stroke\n                )\n            );\n        }\n\n        p.cueSet3Direction = 'forward-right';\n\n        p.executeCueSet3 = (note) => {\n            const { currentCue } = note;\n\n            if(currentCue > 64) {\n                if(currentCue === 65) {\n                    p.balls = [];\n                }\n\n                p.cueSet3Direction = p.cueSet3Direction === 'forward-left' ? 'forward-right' : 'forward-left';\n\n                p.balls.push(\n                    new NaturalBouncingBall(\n                        p, \n                        0,\n                        -p.height / 2,  \n                        0, \n                        p.height / 6,\n                        48,\n                        p.cueSet3Direction,\n                        p.color(p.random(0, 360), 0, 25, 0.75),\n                        p.color(p.random(0, 360), 100, 100),\n                        false\n                    )\n                );\n            }\n\n            \n        }\n\n        p.cueSet4Direction = 'forward-left';\n\n        p.executeCueSet4 = (note) => {\n            const { currentCue } = note;\n\n            if(currentCue < 55 || currentCue > 56) {\n                if(currentCue % 7 === 6){\n                    p.cueSet4Direction = p.cueSet4Direction === 'forward-right' ? 'forward-left' : 'forward-right';\n                }\n\n                const x = p.cueSet4Direction === 'forward-right' ? -p.width / 2 : p.width / 2;\n\n                p.balls.push(\n                    new NaturalBouncingBall(\n                        p, \n                        x, \n                        -p.height/2,\n                        0, \n                        p.height / 8, \n                        36,\n                        p.cueSet4Direction,\n                        p.color(p.random(0, 360), 100, 100),\n                        p.color(p.random(0, 360), 100, 0),\n                        false\n                    )\n                );\n            }\n            \n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.classList.add(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}